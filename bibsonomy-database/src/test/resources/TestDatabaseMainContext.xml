<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
	                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
	
	<!-- dummies for lucene index -->
	<bean id="dummySearch" class="org.bibsonomy.testutil.DummyResourceSearch" />
	<alias name="dummySearch" alias="bookmarkSearch" />
	<alias name="dummySearch" alias="goldStandardPublicationSearch" />
	<alias name="dummySearch" alias="publicationSearch" />
	<alias name="dummySearch" alias="goldStandardBookmarkSearch" />
	
	<bean id="personSearch" class="org.bibsonomy.testutil.DummyPersonSearch" />
	
	<import resource="classpath:TestDatabaseBaseContext.xml"/>
	<import resource="classpath:TestDatabaseContext.xml"/>
	
	<bean id="systemTagTest" class="org.bibsonomy.database.systemtags.SystemtagsTest">
		<property name="maxQuerySize" value="${database.maxQuerySize}" />
	</bean>

	<bean id="publicationReader" class="org.bibsonomy.testutil.DummyPublicationReader" />

	<bean id="dbLogicPrototype" class="org.bibsonomy.database.DBLogic" scope="prototype" init-method="initializeMaps">
		<property name="dbSessionFactory" ref="dbSessionFactory" />
		<property name="projectDatabaseManager" ref="projectDatabaseManager" />
		<property name="publicationReader" ref="publicationReader" />
	</bean>

	<bean id="apiInterfaceFactory" class="org.bibsonomy.database.DBLogicApiInterfaceFactory" parent="abstractInterfaceFactory" />
	<bean id="logicInterfaceFactory" class="org.bibsonomy.database.DBLogicUserInterfaceFactory" parent="abstractInterfaceFactory" />

	<bean id="abstractInterfaceFactory" class="org.bibsonomy.database.AbstractDBLogicInterfaceFactory" abstract="true">
		<property name="dbSessionFactory" ref="dbSessionFactory" />
		<lookup-method name="buildLogic" bean="dbLogicPrototype" />
	</bean>
	
</beans>