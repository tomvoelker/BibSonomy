<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="GroupCommon">

	<resultMap id="group_basic"	class="group">
		<result property="groupId"          column="group"             javaType="int" />
		<result property="name"             column="group_name"        javaType="string" />
		<result property="privlevel"        column="privlevel"         javaType="Privlevel"/>
		<result property="sharedDocuments"  column="sharedDocuments"   javaType="boolean"/>
	</resultMap>

	<resultMap id="group" class="group" extends="group_basic" groupBy="name">
		<result property="realname"         column="realname"          javaType="string" />
		<result property="homepage"         column="homepage"          javaType="url" />
	</resultMap>

	<resultMap id="groupWithMembers" class="group" extends="group_basic" groupBy="name">
		<result property="users"    resultMap="UserCommon.userForGroup" />
	</resultMap>
	
	<resultMap id="tagsets" class="tagset" groupBy="setName">
		<result property="setName"   	column="set_name"  	javaType="string"  />
		<result property="tags"         resultMap="Common.tag" />
	</resultMap>

</sqlMap>