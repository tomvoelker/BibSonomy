<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="TagRelation">
	<insert id="insertTagRelationIfNotPresent" parameterClass="tagRelationParam">
		INSERT INTO tagtagrelations  (relationID, lower, upper, date_of_create, user_name)
		SELECT value+1, #lowerTagName#, #upperTagName#, #creationDate#, #ownerUserName# FROM ids WHERE name = 2
	</insert>
	
	<delete id="deleteTagRelation" parameterClass="tagRelationParam">
		DELETE FROM tagtagrelations WHERE lower=#lowerTagName# AND upper=#upperTagName# AND user_name=#ownerUserName#
	</delete>
</sqlMap>