<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Project">

    <select id="getFullProjectDetails" parameterClass="string" resultMap="ProjectCommon.fullProject">
        SELECT <include refid="fullProjectAttributes" />
          FROM projects
        WHERE project_id = #project_id#
    </select>

    <insert id="insertProject" parameterClass="projectParam">
        INSERT INTO projects (<include refid="allProjectAttributes"/>)
        VALUES (<include refid="insertProjectAttributes"/>)
    </insert>


    <update id="updateProject" parameterClass="projectParam">
        UPDATE projects
        SET
            id = #project.id#,
            internal_id = #project.internalId#,
            title = #project.title#,
            subtitle = #project.subTitle#,
            description = #project.description#,
            start_date = #project.startDate#,
            end_date = #project.endDate#,
            type = #project.type#,
            budget = #project.budget#,
            updated_at = #updatedAt#,
            updated_by = #updatedBy#
        WHERE project_id = #project.externalId#
    </update>

   <!--
    <select id="getAllProjects" resultMap="Project.project">
        SELECT <include refid="commonProjectAttributes"/>
        FROM projects
    </select>

    <delete id="deleteProject" parameterClass="string">
        DELETE FROM projects WHERE project_id = #project_id#
    </delete> -->


</sqlMap>
