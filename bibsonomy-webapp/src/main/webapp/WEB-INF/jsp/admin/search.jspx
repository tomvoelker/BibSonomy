<?xml version="1.0" ?>
<jsp:root version="2.0" xmlns="http://www.w3.org/1999/xhtml"
          xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
          xmlns:layout="urn:jsptagdir:/WEB-INF/tags/layout"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions"
          xmlns:nav="urn:jsptagdir:/WEB-INF/tags/nav"
		  xmlns:adminSearch="urn:jsptagdir:/WEB-INF/tags/admin/search">

    <jsp:directive.page contentType="text/html; charset=UTF-8" language="java" pageEncoding="UTF-8" session="true"/>

	<fmt:message key="navi.admin" var="adminPageTitle" />
	<fmt:message key="navi.admin.searchIndices" var="searchIndexTitle" />

    <layout:layout
            pageTitle="${searchIndexTitle} | ${adminPageTitle}"
            loginUser="${command.context.loginUser}"
            requPath="${requPath}"
            noSidebar="${true}">
		
		<jsp:attribute name="breadcrumbs">
			<nav:breadcrumbs>
				<jsp:attribute name="crumbs">
					<nav:admin/>
					<nav:crumb name="${searchIndexTitle}" active="true"/>
				</jsp:attribute>
			</nav:breadcrumbs>
		</jsp:attribute>

        <jsp:attribute name="content">
			<h2><fmt:message key="admin.search.title"/></h2>

			<c:set var="indexOrder"
                   value="${fn:split('BibTex,GoldStandardPublication,Bookmark,GoldStandardBookmark,Group,Person,Project',',')}"/>

			<c:forEach items="${indexOrder}" var="entity">
				<c:set var="searchIndexInfos" value="${command.searchIndexInfo.get(entity)}"/>
				<adminSearch:entityIndicesInfo entity="${entity}" searchIndexInfos="${searchIndexInfos}" showWarning="${true}" showActions="${true}" />
			</c:forEach>

			<c:if test="${not empty command.searchIndexInfo.get('Help')}">
				<adminSearch:entityIndicesInfo entity="Help" searchIndexInfos="${command.searchIndexInfo.get('Help')}" showWarning="${false}" showActions="${false}" />
			</c:if>

    	</jsp:attribute>
	</layout:layout>
</jsp:root>