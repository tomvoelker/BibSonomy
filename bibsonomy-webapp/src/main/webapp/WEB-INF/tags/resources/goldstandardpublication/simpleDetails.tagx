<jsp:root version="2.0" 
	xmlns:c="http://java.sun.com/jsp/jstl/core"	
	xmlns:mtl="urn:jsptld:/WEB-INF/taglibs/mytaglib.tld"
	xmlns:jsp="http://java.sun.com/JSP/Page"
	xmlns:spring="http://www.springframework.org/tags"
	xmlns:bib="urn:jsptagdir:/WEB-INF/tags/resources/bibtex"
	xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	
	<jsp:directive.attribute name="publication" type="org.bibsonomy.model.BibTex" required="true"/>	
	
	<!-- TODO: copy paste code -->
	<c:set var="itemType" value="http://schema.org/ScholarlyArticle"/>
	<c:if test="${not empty publication.entrytype and ('book' eq publication.entrytype)}">
		<c:set var="itemType" value="http://schema.org/Book"/>
	</c:if>
	
	<div id="${publication.interHash}" itemtype="${itemType}" itemscope="itemscope" itemprop="citation" class="related">
		<strong><a class="title" href="${relativeUrlGenerator.getPublicationUrl(publication, null)}" itemprop="headline"><c:out value="${mtl:cleanBibtex(publication.title)}" /></a></strong>
		<bib:desc publication="${publication}"/>
	</div>
</jsp:root>