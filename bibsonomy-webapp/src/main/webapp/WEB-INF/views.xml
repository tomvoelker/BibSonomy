<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
	                    http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- extracts properties from the provided file and inserts them into this file -->
	<bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="location">
			<value>/WEB-INF/project.properties</value>
		</property>
	</bean>
	
	<!-- Renders JabRef Layouts -->
	<!-- 
		FIXME: Currently, it's a singleton, because we needed the same instance 
		also in the old code. To get the singleton, we call the static 
		getInstance() method.
		We should put the bean into the application context and use it from there.
	 -->
	<bean id="jabrefLayoutRenderer" class="org.bibsonomy.layout.jabref.JabrefLayoutRenderer" factory-method="getInstance">
		<property name="userLayoutFilePath" value="${project.document.path}"/>
	</bean>

	<!-- renders JabRef layouts -->
	<bean id="layout" class="org.bibsonomy.webapp.view.LayoutView">
		<property name="layoutRenderer" ref="jabrefLayoutRenderer"/>
	</bean>
	
	<!-- renders CSV for both bookmarks and publications -->
	<bean id="csv" class="org.bibsonomy.webapp.view.CSVView"/>
	
	<!-- renders documents of publications -->
	<bean id="downloadFile" class="org.bibsonomy.webapp.view.DocumentDownloadView"/>

	<!-- renders the available export layouts as JSON -->	
	<bean id="exportLayouts" class="org.bibsonomy.webapp.view.ExportLayoutView"/>

</beans>
