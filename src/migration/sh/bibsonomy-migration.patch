diff -ur bibsonomy-webapp/src/main/java/filters/SetCharacterEncodingFilter.java bibsonomy-webapp-new/src/main/java/filters/SetCharacterEncodingFilter.java
--- bibsonomy-webapp/src/main/java/filters/SetCharacterEncodingFilter.java	2006-10-11 11:51:57.000000000 +0200
+++ bibsonomy-webapp-new/src/main/java/filters/SetCharacterEncodingFilter.java	2007-08-15 22:35:21.000000000 +0200
@@ -54,7 +54,7 @@
  * user's session.</p>
  *
  * @author Craig McClanahan
- * @version $Revision$ $Date$
+ * @version $Revision$ $Date$
  */
 
 public class SetCharacterEncodingFilter implements Filter {
diff -ur bibsonomy-webapp/src/main/java/helpers/database/DBExtendedFieldManager.java bibsonomy-webapp-new/src/main/java/helpers/database/DBExtendedFieldManager.java
--- bibsonomy-webapp/src/main/java/helpers/database/DBExtendedFieldManager.java	2007-01-17 16:31:14.000000000 +0100
+++ bibsonomy-webapp-new/src/main/java/helpers/database/DBExtendedFieldManager.java	2007-08-15 01:03:25.000000000 +0200
@@ -99,7 +99,9 @@
 			}
 		} catch (SQLException e) {
 			try {
-				c.conn.rollback();
+				if (c.conn != null) {
+					c.conn.rollback();
+				}
 			} catch (SQLException ex) {
 				log.fatal("Could not roll back transaction for group " + group + ": " + ex.getMessage());
 			}
diff -ur bibsonomy-webapp/src/main/java/helpers/export/bibtex/ExportBibtex.java bibsonomy-webapp-new/src/main/java/helpers/export/bibtex/ExportBibtex.java
--- bibsonomy-webapp/src/main/java/helpers/export/bibtex/ExportBibtex.java	2007-08-13 14:26:05.000000000 +0200
+++ bibsonomy-webapp-new/src/main/java/helpers/export/bibtex/ExportBibtex.java	2007-08-15 22:35:25.000000000 +0200
@@ -6,15 +6,12 @@
 import java.io.IOException;
 import java.io.InputStreamReader;
 import java.io.StringReader;
+import java.net.URI;
 import java.util.Collection;
 import java.util.HashMap;
 import java.util.List;
 import java.util.Stack;
 
-import javax.naming.Context;
-import javax.naming.InitialContext;
-import javax.naming.NamingException;
-
 import net.sf.jabref.BibtexDatabase;
 import net.sf.jabref.BibtexEntry;
 import net.sf.jabref.Globals;
@@ -31,7 +28,6 @@
 import resources.Bibtex;
 import resources.Resource;
 import servlets.DocumentUploadHandler;
-import servlets.listeners.InitialConfigListener;
 
 /**
  * This Singleton provides methods to export BibTeX entries
@@ -46,7 +42,7 @@
 	private final static String _layoutFileExtension = ".layout";
 
 	private static String _rootPath			         = null;
-	private static String _bibDefLayoutPath          = null;
+	//private static String _bibDefLayoutPath          = null;
 	private static final String message_no_custom_layout = "You don't have a custom filter installed. Please go to the settings page and install one.";
 
 
@@ -55,16 +51,16 @@
 
 
 	/** Only on instance will be instantiated during the very first access. */
-	private static final ExportBibtex instance = new ExportBibtex();
+	private static ExportBibtex instance;
 
 	/** Constructor collects all needed infos and data.*/
-	private ExportBibtex(){
-		try {
+	private ExportBibtex(final URI bibDefLayoutPath) {
+		/*try {
 			_bibDefLayoutPath = ((String) ((Context) new InitialContext().lookup("java:/comp/env")).lookup("bibLayoutPath"));
 			_rootPath = InitialConfigListener.getInitParam("rootPath");//((String) ((Context) new InitialContext().lookup("java:/comp/env")).lookup("rootPath"));			
 		} catch (NamingException e) {
 			log.fatal(e);
-		}
+		}*/
 		/* 
 		 * initialize JabRef preferences. This is neccessary ... because they use global 
 		 * preferences and if we don't initialize them, we get NullPointerExceptions later 
@@ -72,14 +68,21 @@
 		
 		Globals.prefs = JabRefPreferences.getInstance();
 		// load default filters 
-		loadDefaultFilters();
+		loadDefaultFilters(bibDefLayoutPath);
 	}
 
-	public static ExportBibtex getInstance() {
+	public static ExportBibtex getInstance(URI bibDefLayoutPath) {
+		if (instance == null) {
+			if (bibDefLayoutPath == null) {
+				throw new IllegalStateException("getInstance must be called with bibDefLayoutPath first");
+			}
+			ExportBibtex.instance = new ExportBibtex(bibDefLayoutPath); 
+		}
 		return instance;
 	}
 
-	public Object clone()throws CloneNotSupportedException {
+	@Override
+	public Object clone() throws CloneNotSupportedException {
 		throw new CloneNotSupportedException(); 
 	}
 
@@ -208,7 +211,9 @@
 		try {
 			result = BibtexParser.parse(new StringReader(bibtexStrings.toString()));
 		} catch (IOException e) {
-			log.fatal("error parsing bibtex objects for JabRef output: " + e);
+			final String msg = "error parsing bibtex objects for JabRef output: " + e.getMessage();
+			log.fatal(msg, e);
+			throw new RuntimeException(msg,e);
 		}
 
 		return result.getDatabase();
@@ -218,11 +223,11 @@
 	 * Loads default filters (xxx.xxx.layout and xxx.layout) from BibSonomy`s default layout directory into a map.
 	 * @throws Exception
 	 */
-	private void loadDefaultFilters(){
+	private void loadDefaultFilters(final URI bibDefLayoutPath) {
 		
 		Stack<File> dirs = new Stack<File>();
 		//start searching in default layout directory
-		final File startdir = new File(_bibDefLayoutPath);
+		final File startdir = new File(bibDefLayoutPath);
 
 		if (startdir.isDirectory())
 			dirs.push(startdir);
diff -ur bibsonomy-webapp/src/main/java/ie/BaseTUICRF.java bibsonomy-webapp-new/src/main/java/ie/BaseTUICRF.java
--- bibsonomy-webapp/src/main/java/ie/BaseTUICRF.java	2006-09-29 13:02:02.000000000 +0200
+++ bibsonomy-webapp-new/src/main/java/ie/BaseTUICRF.java	2007-08-15 22:35:20.000000000 +0200
@@ -26,7 +26,7 @@
  * Methods that are useful for CRF TUIs.
  *
  * @author Charles Sutton
- * @version $Id$
+ * @version $Id$
  */
 public class BaseTUICRF {
 
diff -ur bibsonomy-webapp/src/main/java/ie/ie/FieldF1Evaluator.java bibsonomy-webapp-new/src/main/java/ie/ie/FieldF1Evaluator.java
--- bibsonomy-webapp/src/main/java/ie/ie/FieldF1Evaluator.java	2006-09-29 13:02:02.000000000 +0200
+++ bibsonomy-webapp-new/src/main/java/ie/ie/FieldF1Evaluator.java	2007-08-15 22:35:20.000000000 +0200
@@ -23,7 +23,7 @@
  * Created: May 12, 2004
  * 
  * @author <A HREF="mailto:casutton@cs.umass.edu>casutton@cs.umass.edu</A>
- * @version $Id$
+ * @version $Id$
  */
 public class FieldF1Evaluator extends TransducerEvaluator {
 
diff -ur bibsonomy-webapp/src/main/java/ie/ie/TUI_IE_CRF.java bibsonomy-webapp-new/src/main/java/ie/ie/TUI_IE_CRF.java
--- bibsonomy-webapp/src/main/java/ie/ie/TUI_IE_CRF.java	2006-10-24 17:53:16.000000000 +0200
+++ bibsonomy-webapp-new/src/main/java/ie/ie/TUI_IE_CRF.java	2007-08-15 22:35:20.000000000 +0200
@@ -40,7 +40,7 @@
  * Created: May 22, 2004
  * 
  * @author <A HREF="mailto:casutton@cs.umass.edu>casutton@cs.umass.edu</A>
- * @version $Id$
+ * @version $Id$
  */
 
 
diff -ur bibsonomy-webapp/src/main/java/recommender/logic/termprocessing/StopWordRemover.java bibsonomy-webapp-new/src/main/java/recommender/logic/termprocessing/StopWordRemover.java
--- bibsonomy-webapp/src/main/java/recommender/logic/termprocessing/StopWordRemover.java	2006-04-24 13:25:03.000000000 +0200
+++ bibsonomy-webapp-new/src/main/java/recommender/logic/termprocessing/StopWordRemover.java	2007-08-15 16:59:21.000000000 +0200
@@ -50,9 +50,10 @@
 
 	public String process(String term) {
 		if (stopWords.contains(term) == false) {
+			log.debug("not removed word '" + term + "' with length " + term.length());
 			return term;
 		} else {
-			log.debug("removed stopword '" + term + "'");
+			log.debug("removed stopword '" + term + "' with length " + term.length());
 			return null;
 		}
 	}
diff -ur bibsonomy-webapp/src/main/java/servlets/BibtexHandler.java bibsonomy-webapp-new/src/main/java/servlets/BibtexHandler.java
--- bibsonomy-webapp/src/main/java/servlets/BibtexHandler.java	2007-08-13 14:26:00.000000000 +0200
+++ bibsonomy-webapp-new/src/main/java/servlets/BibtexHandler.java	2007-08-14 15:22:39.000000000 +0200
@@ -83,9 +83,15 @@
 	 * The dataSource lookup code is added to the init() method to avoid the
 	 * costly JNDI operations for every HTTP request.
 	 */
+	@Override
 	public void init(ServletConfig config) throws ServletException {
 		super.init(config);
 		try {
+			((Context) new InitialContext().lookup("java:/comp/env")).bind("ieScraperCrfPath", getServletContext().getRealPath("/crfBibsonomy/crf.dat"));
+		} catch (NamingException ex) {
+			throw new ServletException("Cannot bind java:/comp/env/ieScraperCrfPath", ex);
+		}
+		try {
 			dataSource = (DataSource) ((Context) new InitialContext().lookup("java:/comp/env")).lookup("jdbc/bibsonomy");
 			tempPath   = config.getServletContext().getInitParameter("rootPath") + "bibsonomy_temp";
 		} catch (NamingException ex) {
@@ -93,6 +99,7 @@
 		}
 	}
 	
+	@Override
 	public void doGet(HttpServletRequest request, HttpServletResponse response)	throws ServletException, IOException {
 		/*
 		 * forward all GET-requests to doPost to handle them
@@ -100,6 +107,7 @@
 		doPost(request, response);
 	}
 
+	@Override
 	public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 		
 		UserBean user = SessionSettingsFilter.getUser(request);
diff -ur bibsonomy-webapp/src/main/java/servlets/LayoutHandler.java bibsonomy-webapp-new/src/main/java/servlets/LayoutHandler.java
--- bibsonomy-webapp/src/main/java/servlets/LayoutHandler.java	2007-08-13 14:26:01.000000000 +0200
+++ bibsonomy-webapp-new/src/main/java/servlets/LayoutHandler.java	2007-08-14 19:07:32.000000000 +0200
@@ -36,17 +36,24 @@
 
 	private static String documentPath = null;
 	private static String rootPath = null;
-	private static final ExportBibtex export = ExportBibtex.getInstance();
+	private static ExportBibtex export;
 	private static HashMap<String,OutputType> typemap = new HashMap<String,OutputType>();
 
 
+	@Override
 	public void init(ServletConfig config) throws ServletException {	
-		super.init(config); 
+		super.init(config);
+		try {
+			export = ExportBibtex.getInstance(getServletContext().getResource("/jabrefExportFilter/layout").toURI());
+		} catch (Exception ex) {
+			throw new ServletException("unable to intitialize " + ExportBibtex.class.getSimpleName(), ex);
+		}
 		rootPath = InitialConfigListener.getInitParam("rootPath");
 		documentPath = rootPath + "bibsonomy_docs/";
 		initTypeMap(); // initialize mapping of type names to content-type/file-ending 
 	}
 
+	@Override
 	public void doGet(HttpServletRequest request, HttpServletResponse response)	throws ServletException, IOException {
 		/* Get the session attribute of current user  */
 		UserBean user = SessionSettingsFilter.getUser(request);
@@ -123,6 +130,7 @@
 	}
 
 
+	@Override
 	public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 
 		UserBean user = SessionSettingsFilter.getUser(request);
diff -ur bibsonomy-webapp/src/main/webapp/admin_statistics.jsp bibsonomy-webapp-new/src/main/webapp/admin_statistics.jsp
--- bibsonomy-webapp/src/main/webapp/admin_statistics.jsp	2007-06-21 12:50:17.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/admin_statistics.jsp	2007-08-15 20:59:05.000000000 +0200
@@ -1,5 +1,5 @@
 <%@include file="/include_jsp_head.jsp"%>
-<%@ taglib uri="/WEB-INF/src/tags/myajaxtaglib.tld" prefix="ajax" %>
+<%@ taglib uri="/WEB-INF/taglibs/myajaxtaglib.tld" prefix="ajax" %>
 
 <%@include file="/boxes/admin/login.jsp"%>
 
diff -ur bibsonomy-webapp/src/main/webapp/ajax/pickUnpickPublication.jsp bibsonomy-webapp-new/src/main/webapp/ajax/pickUnpickPublication.jsp
--- bibsonomy-webapp/src/main/webapp/ajax/pickUnpickPublication.jsp	2007-08-13 14:26:07.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/ajax/pickUnpickPublication.jsp	2007-08-15 20:59:02.000000000 +0200
@@ -7,7 +7,7 @@
 <%@ page pageEncoding="UTF-8"%>
 <%@ page session="true"%>
 <%@ page isELIgnored="false"%>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl"%>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl"%>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/sql" prefix="sql"%>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f"%>
diff -ur bibsonomy-webapp/src/main/webapp/ajax/showOrHideConcept.jsp bibsonomy-webapp-new/src/main/webapp/ajax/showOrHideConcept.jsp
--- bibsonomy-webapp/src/main/webapp/ajax/showOrHideConcept.jsp	2007-08-13 14:26:06.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/ajax/showOrHideConcept.jsp	2007-08-15 20:58:56.000000000 +0200
@@ -7,7 +7,7 @@
 <%@ page pageEncoding="UTF-8"%>
 <%@ page session="true"%>
 <%@ page isELIgnored="false"%>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl"%>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl"%>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/sql" prefix="sql"%>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f"%>
diff -ur bibsonomy-webapp/src/main/webapp/BuRSToutput.jsp bibsonomy-webapp-new/src/main/webapp/BuRSToutput.jsp
--- bibsonomy-webapp/src/main/webapp/BuRSToutput.jsp	2007-08-13 14:26:00.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/BuRSToutput.jsp	2007-08-15 20:59:06.000000000 +0200
@@ -9,7 +9,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 <!DOCTYPE rdf:RDF [
  <!ENTITY rdf 'http://www.w3.org/1999/02/22-rdf-syntax-ns#'>
diff -ur bibsonomy-webapp/src/main/webapp/events/statphys23/header.jsp bibsonomy-webapp-new/src/main/webapp/events/statphys23/header.jsp
--- bibsonomy-webapp/src/main/webapp/events/statphys23/header.jsp	2007-06-11 16:48:42.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/events/statphys23/header.jsp	2007-08-15 20:59:18.000000000 +0200
@@ -7,7 +7,7 @@
 <%@ page pageEncoding="UTF-8" %>
 <%@ page session="true" %>
 <%@ page isELIgnored="false" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/sql" prefix="sql" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
diff -ur bibsonomy-webapp/src/main/webapp/events/statphys23/standard_header.jsp bibsonomy-webapp-new/src/main/webapp/events/statphys23/standard_header.jsp
--- bibsonomy-webapp/src/main/webapp/events/statphys23/standard_header.jsp	2007-06-11 10:21:23.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/events/statphys23/standard_header.jsp	2007-08-15 20:59:15.000000000 +0200
@@ -7,7 +7,7 @@
 <%@ page pageEncoding="UTF-8" %>
 <%@ page session="true" %>
 <%@ page isELIgnored="false" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/sql" prefix="sql" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
diff -ur bibsonomy-webapp/src/main/webapp/html_header.jsp bibsonomy-webapp-new/src/main/webapp/html_header.jsp
--- bibsonomy-webapp/src/main/webapp/html_header.jsp	2007-08-13 14:26:06.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/html_header.jsp	2007-08-15 20:59:12.000000000 +0200
@@ -21,7 +21,7 @@
 
 <%@ page import="servlets.listeners.*" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 <%--
 	HTML starts here
diff -ur bibsonomy-webapp/src/main/webapp/include_jsp_head.jsp bibsonomy-webapp-new/src/main/webapp/include_jsp_head.jsp
--- bibsonomy-webapp/src/main/webapp/include_jsp_head.jsp	2007-08-13 14:26:07.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/include_jsp_head.jsp	2007-08-15 20:53:54.000000000 +0200
@@ -7,7 +7,7 @@
 <%@ page pageEncoding="UTF-8" %>
 <%@ page session="true" %>
 <%@ page isELIgnored="false" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/sql" prefix="sql" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
diff -ur bibsonomy-webapp/src/main/webapp/NRLOutput.jsp bibsonomy-webapp-new/src/main/webapp/NRLOutput.jsp
--- bibsonomy-webapp/src/main/webapp/NRLOutput.jsp	2007-08-13 14:26:02.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/NRLOutput.jsp	2007-08-15 20:58:47.000000000 +0200
@@ -8,7 +8,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 <rdf:RDF
  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
diff -ur bibsonomy-webapp/src/main/webapp/PublApaRSSFeed.jsp bibsonomy-webapp-new/src/main/webapp/PublApaRSSFeed.jsp
--- bibsonomy-webapp/src/main/webapp/PublApaRSSFeed.jsp	2007-08-01 10:26:48.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/PublApaRSSFeed.jsp	2007-08-15 20:58:52.000000000 +0200
@@ -9,7 +9,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 <rdf:RDF
  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
diff -ur bibsonomy-webapp/src/main/webapp/PublCSVOutput.jsp bibsonomy-webapp-new/src/main/webapp/PublCSVOutput.jsp
--- bibsonomy-webapp/src/main/webapp/PublCSVOutput.jsp	2007-08-13 14:26:06.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/PublCSVOutput.jsp	2007-08-15 20:59:08.000000000 +0200
@@ -8,7 +8,7 @@
 <%@ page isELIgnored="false"%>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/sql" prefix="sql" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl"%>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl"%>
 <sql:setDataSource dataSource="jdbc/bibsonomy" var="dataSource"/>
 <jsp:useBean id="ResourceBean" class="beans.ResourceBean" scope="request" />
 <jsp:useBean id="bean" class="beans.ExtendedFieldsBean" scope="request"/>
diff -ur bibsonomy-webapp/src/main/webapp/PublKDEOutput.jsp bibsonomy-webapp-new/src/main/webapp/PublKDEOutput.jsp
--- bibsonomy-webapp/src/main/webapp/PublKDEOutput.jsp	2007-08-13 14:26:04.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/PublKDEOutput.jsp	2007-08-15 20:58:59.000000000 +0200
@@ -9,7 +9,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 <%-- Bean einbinden --%>
 <jsp:useBean id="ResourceBean" class="beans.ResourceBean" scope="request"/>
diff -ur bibsonomy-webapp/src/main/webapp/PublOutput.jsp bibsonomy-webapp-new/src/main/webapp/PublOutput.jsp
--- bibsonomy-webapp/src/main/webapp/PublOutput.jsp	2007-08-13 14:26:03.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/PublOutput.jsp	2007-08-15 20:59:19.000000000 +0200
@@ -9,7 +9,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 
 <%-- Bean einbinden --%>
diff -ur bibsonomy-webapp/src/main/webapp/PublRSSFeed.jsp bibsonomy-webapp-new/src/main/webapp/PublRSSFeed.jsp
--- bibsonomy-webapp/src/main/webapp/PublRSSFeed.jsp	2007-08-13 14:26:02.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/PublRSSFeed.jsp	2007-08-15 20:59:13.000000000 +0200
@@ -9,7 +9,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 
 
diff -ur bibsonomy-webapp/src/main/webapp/PublRSSNepomukFeed.jsp bibsonomy-webapp-new/src/main/webapp/PublRSSNepomukFeed.jsp
--- bibsonomy-webapp/src/main/webapp/PublRSSNepomukFeed.jsp	2007-08-13 14:26:00.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/PublRSSNepomukFeed.jsp	2007-08-15 20:58:54.000000000 +0200
@@ -9,7 +9,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 
 <rdf:RDF
diff -ur bibsonomy-webapp/src/main/webapp/RSSFeed.jsp bibsonomy-webapp-new/src/main/webapp/RSSFeed.jsp
--- bibsonomy-webapp/src/main/webapp/RSSFeed.jsp	2007-08-13 14:26:04.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/RSSFeed.jsp	2007-08-15 20:58:57.000000000 +0200
@@ -8,7 +8,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 
 <rdf:RDF
diff -ur bibsonomy-webapp/src/main/webapp/SWRCoutput.jsp bibsonomy-webapp-new/src/main/webapp/SWRCoutput.jsp
--- bibsonomy-webapp/src/main/webapp/SWRCoutput.jsp	2007-08-13 14:26:05.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/SWRCoutput.jsp	2007-08-15 20:59:03.000000000 +0200
@@ -10,7 +10,7 @@
 <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="f" %>
 <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
-<%@ taglib uri="/WEB-INF/src/tags/mytaglib.tld" prefix="mtl" %>
+<%@ taglib uri="/WEB-INF/taglibs/mytaglib.tld" prefix="mtl" %>
 
 <!DOCTYPE rdf:RDF [
  <!ENTITY rdf 'http://www.w3.org/1999/02/22-rdf-syntax-ns#'>
diff -ur bibsonomy-webapp/src/main/webapp/WEB-INF/taglibs/mytaglib.tld bibsonomy-webapp-new/src/main/webapp/WEB-INF/taglibs/mytaglib.tld
--- bibsonomy-webapp/src/main/webapp/WEB-INF/taglibs/mytaglib.tld	2007-03-29 19:50:47.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/WEB-INF/taglibs/mytaglib.tld	2007-08-14 17:42:26.000000000 +0200
@@ -1,10 +1,7 @@
 <?xml version="1.0" encoding="ISO-8859-1" ?>
-<!DOCTYPE taglib PUBLIC "-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.1//EN" "http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_1.dtd">
-
 <!-- a tag library descriptor -->
-
-<taglib>
-   <tlibversion>1.0</tlibversion>
+<taglib xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_-0.xsd" version="2.0">
+   <tlibversion>1.1</tlibversion>
    <jspversion>1.1</jspversion>
    <shortname>mytaglib</shortname>
    <uri></uri>
diff -ur bibsonomy-webapp/src/main/webapp/WEB-INF/web.xml bibsonomy-webapp-new/src/main/webapp/WEB-INF/web.xml
--- bibsonomy-webapp/src/main/webapp/WEB-INF/web.xml	2007-08-13 22:52:51.000000000 +0200
+++ bibsonomy-webapp-new/src/main/webapp/WEB-INF/web.xml	2007-08-14 17:57:24.000000000 +0200
@@ -1,682 +1,786 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <web-app xmlns="http://java.sun.com/xml/ns/j2ee"
-    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
-    version="2.4">
-    
-    <!-- Initialization parameters -->
-        <display-name>bibsonomy</display-name>
-        <session-config>
-	         <session-timeout>60</session-timeout>
-        </session-config>
-        <context-param>
-	         <param-name>developer</param-name>
-             <param-value>sre@cs.uni-kassel.de</param-value>
-        </context-param>
-        <listener>
-        	<listener-class>servlets.listeners.InitialConfigListener</listener-class>
-        </listener>
-        <context-param>
-        	<param-name>projectName</param-name>
-        	<param-value>BibSonomy</param-value>
-        </context-param>
-        <context-param>
-        	<param-name>projectHome</param-name>
-        	<param-value>http://goofy:8080/</param-value>
-        </context-param>
-        <context-param>
-        	<param-name>rootPath</param-name>
-			<param-value>/home/rja/</param-value>
-        </context-param>
-        <context-param>
-        	<param-name>publicDocuments</param-name>
-			<param-value>true</param-value>
-        </context-param>
-        <!-- 
-        <context-param>
-        	<param-name>proxyHost</param-name>
-        	<param-value>localhost</param-value>
-        </context-param> 
-        <context-param>
-        	<param-name>proxyPort</param-name>
-        	<param-value>8888</param-value>
-        </context-param> 
-		-->
+	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+	xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
+	version="2.4">
+
+	<distributable />
+
+	<!-- Initialization parameters -->
+	<display-name>bibsonomy</display-name>
+	<session-config>
+		<session-timeout>60</session-timeout>
+	</session-config>
+	<context-param>
+		<param-name>developer</param-name>
+		<param-value>sre@cs.uni-kassel.de</param-value>
+	</context-param>
+	<listener>
+		<listener-class>servlets.listeners.InitialConfigListener</listener-class>
+	</listener>
+	<context-param>
+		<param-name>projectName</param-name>
+		<param-value>BibSonomy</param-value>
+	</context-param>
+	<context-param>
+		<param-name>projectHome</param-name>
+		<param-value>http://localhost:8080/</param-value>
+	</context-param>
+	<context-param>
+		<description>folders for fileupload-tempspace and uploaded documents will be created below this path</description>
+		<param-name>rootPath</param-name>
+		<param-value>/home/jensi/tmp/</param-value>
+	</context-param>
+	<context-param>
+		<param-name>publicDocuments</param-name>
+		<param-value>true</param-value>
+	</context-param>
+	<!-- 
+		<context-param>
+		<param-name>proxyHost</param-name>
+		<param-value>localhost</param-value>
+		</context-param> 
+		<context-param>
+		<param-name>proxyPort</param-name>
+		<param-value>8888</param-value>
+		</context-param> 
+	-->
 
 	<!-- environment entrys  -->
-        <env-entry>
-           <env-entry-name>ieScraperCrfPath</env-entry-name>
-           <env-entry-value>/home/rja/eclipse-ws/bibsonomy/crfBibsonomy/crf.dat</env-entry-value>
-           <env-entry-type>java.lang.String</env-entry-type>
-        </env-entry>
-        <env-entry>
-           <env-entry-name>scrapingServiceURL</env-entry-name>
-           <env-entry-value>http://gandalf/cgi-bin/scrapingService</env-entry-value>
-           <env-entry-type>java.lang.String</env-entry-type>
-           <description></description>
-        </env-entry>
-        <env-entry>
-           <env-entry-name>bibLayoutPath</env-entry-name>
-           <env-entry-value>/home/rja/eclipse-ws/bibsonomy/jabrefExportFilter/layout/</env-entry-value>
-           <env-entry-type>java.lang.String</env-entry-type>
-        </env-entry>
+	<!-- env-entry>
+		<env-entry-name>ieScraperCrfPath</env-entry-name>
+		<env-entry-type>java.lang.String</env-entry-type>
+		<env-entry-value>TODO: getContext().getResourceAsStream("/crfBibsonomy/crf.dat")</env-entry-value>
+	</env-entry -->
+	<env-entry>
+		<env-entry-name>scrapingServiceURL</env-entry-name>
+		<env-entry-type>java.lang.String</env-entry-type>
+		<env-entry-value>http://gandalf/cgi-bin/scrapingService</env-entry-value>
+	</env-entry>
+	<!-- env-entry>
+		<env-entry-name>bibLayoutPath</env-entry-name>
+		<env-entry-type>java.lang.String</env-entry-type>
+		<env-entry-value>TODO: getContext().getResourceAsStream("/jabrefExportFilter/layout/" + x)</env-entry-value>
+	</env-entry -->
 
 	<!-- error pages -->
-        <error-page>
-	       <error-code>404</error-code>
-           <location>/errors/404.jsp</location>
-        </error-page>
-        <error-page>
-	       <error-code>405</error-code>
-           <location>/errors/405.jsp</location>
-        </error-page>
-        <error-page>
-	       <error-code>500</error-code>
-           <location>/errors/500.jsp</location>
-        </error-page>
-        <error-page>
-	       <error-code>503</error-code>
-           <location>/errors/503.jsp</location>
-        </error-page>
+	<error-page>
+		<error-code>404</error-code>
+		<location>/errors/404.jsp</location>
+	</error-page>
+	<error-page>
+		<error-code>405</error-code>
+		<location>/errors/405.jsp</location>
+	</error-page>
+	<error-page>
+		<error-code>500</error-code>
+		<location>/errors/500.jsp</location>
+	</error-page>
+	<error-page>
+		<error-code>503</error-code>
+		<location>/errors/503.jsp</location>
+	</error-page>
+
 
-        
 	<!-- DB connection -->
-       <resource-ref>
-        <description>DB Connection</description>
-        <res-ref-name>jdbc/bibsonomy</res-ref-name>
-        <res-type>javax.sql.DataSource</res-type>
-        <res-auth>Container</res-auth>
-       </resource-ref>
-
-  
-	<!-- filters -->   
-    <filter>
-    	<filter-name>SetCharacterEncodingFilter</filter-name>
-    	<filter-class>filters.SetCharacterEncodingFilter</filter-class>
-    	<init-param>
-    		<param-name>encoding</param-name>
-    		<param-value>UTF-8</param-value>
-    	</init-param>
-    	<init-param>
-    		<param-name>ignore</param-name>
-    		<param-value>false</param-value>
-    	</init-param>
-   	</filter>
-   	<filter-mapping>
-    	<filter-name>SetCharacterEncodingFilter</filter-name>
-    	<url-pattern>/*</url-pattern>
-    </filter-mapping>
-
-    <filter>
-        <filter-name>InitUserFilter</filter-name>
-        <filter-class>filters.InitUserFilter</filter-class>
-    </filter>
-    <filter-mapping>
-        <filter-name>InitUserFilter</filter-name>
-        <url-pattern>/*</url-pattern>
-    </filter-mapping>   
-    
-    <filter>
-        <filter-name>ActionValidationFilter</filter-name>
-        <filter-class>filters.ActionValidationFilter</filter-class>
-    </filter>
-    <filter-mapping>
-        <filter-name>ActionValidationFilter</filter-name>
-        <url-pattern>/*</url-pattern>
-    </filter-mapping>   
-
-    <filter>
-        <filter-name>SessionSettingsFilter</filter-name>
-        <filter-class>filters.SessionSettingsFilter</filter-class>
-    </filter>
-    <filter-mapping>
-        <filter-name>SessionSettingsFilter</filter-name>
-        <url-pattern>/*</url-pattern>
-    </filter-mapping>   
-
-
-    <!-- filter>
-    	<filter-name>DebuggingFilter</filter-name>
-    	<filter-class>filters.DebuggingFilter</filter-class>
-   	</filter>
-   	<filter-mapping>
-    	<filter-name>DebuggingFilter</filter-name>
-    	<url-pattern>/*</url-pattern>
-    </filter-mapping-->
-
-    <filter>
-        <filter-name>UrlRewriteFilter</filter-name>
-        <filter-class>org.tuckey.web.filters.urlrewrite.UrlRewriteFilter</filter-class>
-        <init-param>
-		    <param-name>logLevel</param-name>
-		    <param-value>log4j</param-value>
-	    </init-param>
-	    <init-param>
-	    	<param-name>confReloadCheckInterval</param-name>
-	    	<param-value>60</param-value>
-	    </init-param>
-    </filter>
-    <filter-mapping>
-        <filter-name>UrlRewriteFilter</filter-name>
-        <url-pattern>/*</url-pattern>
-    </filter-mapping>     
-    
-    <!-- filter>
-    	<filter-name>DebuggingFilter</filter-name>
-    	<filter-class>filters.DebuggingFilter</filter-class>
-   	</filter>
-   	<filter-mapping>
-    	<filter-name>DebuggingFilter</filter-name>
-    	<url-pattern>/*</url-pattern>
-    </filter-mapping-->
-    
-            
+	<resource-ref>
+		<description>DB Connection</description>
+		<res-ref-name>jdbc/bibsonomy</res-ref-name>
+		<res-type>javax.sql.DataSource</res-type>
+		<res-auth>Container</res-auth>
+	</resource-ref>
+
+
+	<!-- filters -->
+	<filter>
+		<filter-name>SetCharacterEncodingFilter</filter-name>
+		<filter-class>filters.SetCharacterEncodingFilter</filter-class>
+		<init-param>
+			<param-name>encoding</param-name>
+			<param-value>UTF-8</param-value>
+		</init-param>
+		<init-param>
+			<param-name>ignore</param-name>
+			<param-value>false</param-value>
+		</init-param>
+	</filter>
+	<filter-mapping>
+		<filter-name>SetCharacterEncodingFilter</filter-name>
+		<url-pattern>/*</url-pattern>
+	</filter-mapping>
+
+	<filter>
+		<filter-name>InitUserFilter</filter-name>
+		<filter-class>filters.InitUserFilter</filter-class>
+	</filter>
+	<filter-mapping>
+		<filter-name>InitUserFilter</filter-name>
+		<url-pattern>/*</url-pattern>
+	</filter-mapping>
+
+	<filter>
+		<filter-name>ActionValidationFilter</filter-name>
+		<filter-class>filters.ActionValidationFilter</filter-class>
+	</filter>
+	<filter-mapping>
+		<filter-name>ActionValidationFilter</filter-name>
+		<url-pattern>/*</url-pattern>
+	</filter-mapping>
+
+	<filter>
+		<filter-name>SessionSettingsFilter</filter-name>
+		<filter-class>filters.SessionSettingsFilter</filter-class>
+	</filter>
+	<filter-mapping>
+		<filter-name>SessionSettingsFilter</filter-name>
+		<url-pattern>/*</url-pattern>
+	</filter-mapping>
+
+
+	<!-- filter>
+		<filter-name>DebuggingFilter</filter-name>
+		<filter-class>filters.DebuggingFilter</filter-class>
+		</filter>
+		<filter-mapping>
+		<filter-name>DebuggingFilter</filter-name>
+		<url-pattern>/*</url-pattern>
+		</filter-mapping-->
+
+	<filter>
+		<filter-name>UrlRewriteFilter</filter-name>
+		<filter-class>
+			org.tuckey.web.filters.urlrewrite.UrlRewriteFilter
+		</filter-class>
+		<init-param>
+			<param-name>logLevel</param-name>
+			<param-value>log4j</param-value>
+		</init-param>
+		<init-param>
+			<param-name>confReloadCheckInterval</param-name>
+			<param-value>60</param-value>
+		</init-param>
+	</filter>
+	<filter-mapping>
+		<filter-name>UrlRewriteFilter</filter-name>
+		<url-pattern>/*</url-pattern>
+	</filter-mapping>
+
+	<!-- filter>
+		<filter-name>DebuggingFilter</filter-name>
+		<filter-class>filters.DebuggingFilter</filter-class>
+		</filter>
+		<filter-mapping>
+		<filter-name>DebuggingFilter</filter-name>
+		<url-pattern>/*</url-pattern>
+		</filter-mapping-->
+
+
+
 	<!-- ###############################################################  
-		 |					servlets                         |
-		 ############################################################### -->
+		|					servlets                         |
+		############################################################### -->
 
 	<!--  login, registration, settings, ... -->
-        <servlet>
-             <servlet-name>AdminHandler</servlet-name>
-             <servlet-class>servlets.AdminHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>APIHandler</servlet-name>
-             <servlet-class>servlets.APIHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>RegistrationHandler</servlet-name>
-             <servlet-class>servlets.RegistrationHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>LoginHandler</servlet-name>
-             <servlet-class>servlets.LoginHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>JoinGroupHandler</servlet-name>
-             <servlet-class>servlets.JoinGroupHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>SettingsHandler</servlet-name>
-             <servlet-class>servlets.SettingsHandler</servlet-class>
-        </servlet>
-         <servlet>
-             <servlet-name>RelationsHandler</servlet-name>
-             <servlet-class>servlets.RelationsHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>TagHandler</servlet-name>
-             <servlet-class>servlets.TagHandler</servlet-class>
-        </servlet>
-         <servlet>
-             <servlet-name>TagEditHandler</servlet-name>
-             <servlet-class>servlets.TagEditHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>Collector</servlet-name>
-             <servlet-class>servlets.Collector</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>RedirectHandler</servlet-name>
-             <servlet-class>servlets.RedirectHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>PictureUploadHandler</servlet-name>
-             <servlet-class>servlets.PictureUploadHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>PictureDownloadHandler</servlet-name>
-             <servlet-class>servlets.PictureDownloadHandler</servlet-class>
-        </servlet>      
-        
-	<!--  BibTeX  -->        
-        <servlet>
-             <servlet-name>BibtexHandler</servlet-name>
-             <servlet-class>servlets.BibtexHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>BibtexShowHandler</servlet-name>
-             <servlet-class>servlets.BibtexShowHandler</servlet-class>
-        </servlet>
-        <servlet>
-        	<servlet-name>DocumentDownloadHandler</servlet-name>
-        	<servlet-class>servlets.DocumentDownloadHandler</servlet-class>
-        </servlet>
-        <servlet>
-        	<servlet-name>DocumentUploadHandler</servlet-name>
-        	<servlet-class>servlets.DocumentUploadHandler</servlet-class>
-        </servlet>
-        <servlet>
-        	<servlet-name>ExtendedFieldsHandler</servlet-name>
-        	<servlet-class>servlets.ExtendedFieldsHandler</servlet-class>
-        </servlet>
+	<servlet>
+		<servlet-name>AdminHandler</servlet-name>
+		<servlet-class>servlets.AdminHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>APIHandler</servlet-name>
+		<servlet-class>servlets.APIHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>RegistrationHandler</servlet-name>
+		<servlet-class>servlets.RegistrationHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>LoginHandler</servlet-name>
+		<servlet-class>servlets.LoginHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>JoinGroupHandler</servlet-name>
+		<servlet-class>servlets.JoinGroupHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>SettingsHandler</servlet-name>
+		<servlet-class>servlets.SettingsHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>RelationsHandler</servlet-name>
+		<servlet-class>servlets.RelationsHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>TagHandler</servlet-name>
+		<servlet-class>servlets.TagHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>TagEditHandler</servlet-name>
+		<servlet-class>servlets.TagEditHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>Collector</servlet-name>
+		<servlet-class>servlets.Collector</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>RedirectHandler</servlet-name>
+		<servlet-class>servlets.RedirectHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>PictureUploadHandler</servlet-name>
+		<servlet-class>servlets.PictureUploadHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>PictureDownloadHandler</servlet-name>
+		<servlet-class>servlets.PictureDownloadHandler</servlet-class>
+	</servlet>
+
+	<!--  BibTeX  -->
+	<servlet>
+		<servlet-name>BibtexHandler</servlet-name>
+		<servlet-class>servlets.BibtexHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>BibtexShowHandler</servlet-name>
+		<servlet-class>servlets.BibtexShowHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>DocumentDownloadHandler</servlet-name>
+		<servlet-class>servlets.DocumentDownloadHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>DocumentUploadHandler</servlet-name>
+		<servlet-class>servlets.DocumentUploadHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>ExtendedFieldsHandler</servlet-name>
+		<servlet-class>servlets.ExtendedFieldsHandler</servlet-class>
+	</servlet>
 
 
 	<!--  Bookmarks -->
-        <servlet>
-             <servlet-name>BookmarkHandler</servlet-name>
-             <servlet-class>servlets.BookmarkHandler</servlet-class>
-        </servlet>
-        <servlet>
-             <servlet-name>BookmarkShowHandler</servlet-name>
-             <servlet-class>servlets.BookmarkShowHandler</servlet-class>
-        </servlet>
+	<servlet>
+		<servlet-name>BookmarkHandler</servlet-name>
+		<servlet-class>servlets.BookmarkHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>BookmarkShowHandler</servlet-name>
+		<servlet-class>servlets.BookmarkShowHandler</servlet-class>
+	</servlet>
 
 	<!--  to get Resources (Bookmarks, BibTeX, ...) for all pages -->
-        <servlet>
-        	<servlet-name>ResourceHandler</servlet-name>
-        	<servlet-class>servlets.ResourceHandler</servlet-class>
-        </servlet>
-        <servlet>
-        	<servlet-name>LayoutHandler</servlet-name>
-        	<servlet-class>servlets.LayoutHandler</servlet-class>
-        </servlet>
+	<servlet>
+		<servlet-name>ResourceHandler</servlet-name>
+		<servlet-class>servlets.ResourceHandler</servlet-class>
+	</servlet>
+	<servlet>
+		<servlet-name>LayoutHandler</servlet-name>
+		<servlet-class>servlets.LayoutHandler</servlet-class>
+	</servlet>
 
 
 	<!-- ###############################################################  
-         Definition and configuration of Slide's WebDAV servlet. -->
-        <servlet>
-	        <servlet-name>webdav</servlet-name>
-	        <display-name>Slide DAV Server</display-name>
-	        <servlet-class>org.apache.slide.webdav.WebdavServlet</servlet-class>
-	        <init-param>
-	            <param-name>domain</param-name>
-	            <param-value>/WEB-INF/Domain.xml</param-value>
-	         </init-param>
-	        <init-param>
-	            <param-name>namespace</param-name>
-	            <param-value>slide</param-value>
-	         </init-param>
-	        <init-param>
-	            <param-name>scope</param-name>
-	            <param-value/>
-	         </init-param>
-	        <init-param>
-	            <param-name>depth-limit</param-name>
-	            <param-value>1</param-value>
-	         </init-param>
-	        <init-param>
-	            <param-name>default-mime-type</param-name>
-	            <param-value>application/octet-stream</param-value>
-	         </init-param>
-	        <init-param>
-	            <param-name>default-servlet</param-name>
-	            <param-value>false</param-value>
-	         </init-param>
-	        <init-param>
-	            <param-name>directory-browsing</param-name>
-	            <param-value>true</param-value>
-	        </init-param>
-	        <init-param>
-	            <param-name>directory-browsing-hide-acl</param-name>
-	            <param-value>true</param-value>
-	        </init-param>
-	        <init-param>
-	            <param-name>directory-browsing-hide-locks</param-name>
-	            <param-value>true</param-value>
-	        </init-param>
-	        <init-param>
-	            <param-name>optimizePropfindOutput</param-name>
-	            <param-value>true</param-value>
-	        </init-param>
-	        <init-param>
-	            <param-name>debug</param-name>
-	            <param-value>0</param-value>
-	        </init-param>
-	        <init-param>
-	            <param-name>extendedAllprop</param-name>
-	            <param-value>false</param-value>
-	        </init-param>
-	        <init-param>
-	            <param-name>lockdiscoveryIncludesPrincipalURL</param-name>
-	            <param-value>false</param-value>
-	        </init-param>
-	        <init-param>
-	            <param-name>updateLastModified</param-name>
-	            <param-value>true</param-value>
-	        </init-param>
-        </servlet>
-        
-        <!--  captcha servlet -->
-        <servlet>
-			<servlet-name>Captcha</servlet-name>
-			<display-name>Captcha</display-name>
-			<servlet-class>nl.captcha.servlet.CaptchaServlet</servlet-class>
-		</servlet>
+		Definition and configuration of Slide's WebDAV servlet. -->
+	<servlet>
+		<display-name>Slide DAV Server</display-name>
+		<servlet-name>webdav</servlet-name>
+
+		<servlet-class>
+			org.apache.slide.webdav.WebdavServlet
+		</servlet-class>
+		<init-param>
+			<param-name>domain</param-name>
+			<param-value>/WEB-INF/Domain.xml</param-value>
+		</init-param>
+		<init-param>
+			<param-name>namespace</param-name>
+			<param-value>slide</param-value>
+		</init-param>
+		<init-param>
+			<param-name>scope</param-name>
+			<param-value />
+		</init-param>
+		<init-param>
+			<param-name>depth-limit</param-name>
+			<param-value>1</param-value>
+		</init-param>
+		<init-param>
+			<param-name>default-mime-type</param-name>
+			<param-value>application/octet-stream</param-value>
+		</init-param>
+		<init-param>
+			<param-name>default-servlet</param-name>
+			<param-value>false</param-value>
+		</init-param>
+		<init-param>
+			<param-name>directory-browsing</param-name>
+			<param-value>true</param-value>
+		</init-param>
+		<init-param>
+			<param-name>directory-browsing-hide-acl</param-name>
+			<param-value>true</param-value>
+		</init-param>
+		<init-param>
+			<param-name>directory-browsing-hide-locks</param-name>
+			<param-value>true</param-value>
+		</init-param>
+		<init-param>
+			<param-name>optimizePropfindOutput</param-name>
+			<param-value>true</param-value>
+		</init-param>
+		<init-param>
+			<param-name>debug</param-name>
+			<param-value>0</param-value>
+		</init-param>
+		<init-param>
+			<param-name>extendedAllprop</param-name>
+			<param-value>false</param-value>
+		</init-param>
+		<init-param>
+			<param-name>lockdiscoveryIncludesPrincipalURL</param-name>
+			<param-value>false</param-value>
+		</init-param>
+		<init-param>
+			<param-name>updateLastModified</param-name>
+			<param-value>true</param-value>
+		</init-param>
+	</servlet>
+
+	<!--  captcha servlet -->
+	<servlet>
+		<display-name>Captcha</display-name>
+		<servlet-name>Captcha</servlet-name>
+
+		<servlet-class>nl.captcha.servlet.CaptchaServlet</servlet-class>
+
+		<!-- ### Captcha config - http://simplecaptcha.sourceforge.net/config.html ### -->
+
+		<!--border around captcha. Legal values are yes or no. Defaults to yes - other values will be ignored-->
+		<init-param>
+			<param-name>cap.border</param-name>
+			<param-value>yes</param-value>
+		</init-param>
+
+		<!--color of the border. Legal values are r,g,b(and optional alpaha) or white,black,etc. Other values will be ignored-->
+		<init-param>
+			<param-name>cap.border.c</param-name>
+			<param-value>black</param-value>
+		</init-param>
+
+		<!--thickness of the border around captcha. Legal values are > 0 other values will be ignored. Defaults to one-->
+		<init-param>
+			<param-name>cap.border.th</param-name>
+			<param-value>1</param-value>
+		</init-param>
+		<!--  the text producer. defaults to a random character thing. But there is a first name generator as well-->
+		<init-param>
+			<param-name>cap.text.producer</param-name>
+			<param-value>Default</param-value>
+			<!--<param-value>nl.captcha.text.FiveLetterFirstNameTextCreator</param-value>-->
+		</init-param>
+		<!--  in case the default generator is chosen. The characters that will create the string can be configured aswell please-->
+		<!-- notice that if japanese or chinese characters are chosen the fonts chosen below will have to support these-->
+		<init-param>
+			<param-name>cap.char.arr</param-name>
+			<param-value>
+				2,3,4,6,7,8,a,b,c,d,e,f,g,h,k,o,r,s,t,x,y
+			</param-value>
+		</init-param>
+
+		<!--if default captcha producer is selected this value represents the amount of chars that are supplied in the captcha. values below 2 are not exepted when omitted defaults to 5-->
+		<init-param>
+			<param-name>cap.char.arr.l</param-name>
+			<param-value>5</param-value>
+		</init-param>
+
+		<!-- optional font array for the captcha-->
+		<init-param>
+			<param-name>cap.font.arr</param-name>
+			<param-value>
+				Arial,Helvetica,Courier,TimesRoman
+			</param-value>
+		</init-param>
+
+		<!-- image size-->
+		<init-param>
+			<param-name>cap.font.size</param-name>
+			<param-value>40</param-value>
+		</init-param>
+
+	</servlet>
 
 	<!-- ###############################################################  
-		 |					JSPs                             |
-		 ############################################################### -->
-    <!-- AJAX stuff -->
-        <servlet>
-             <servlet-name>/ajax/showOrHideConcept</servlet-name>
-             <jsp-file>/ajax/showOrHideConcept.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>/ajax/pickUnpickPublication</servlet-name>
-             <jsp-file>/ajax/pickUnpickPublication.jsp</jsp-file>
-        </servlet>
-        
-    <!-- events -->
-    	<servlet>
-    		<servlet-name>events_statphys23</servlet-name>
-    		<jsp-file>/events/statphys23/index.jsp</jsp-file>
-    	</servlet>
-        
-        <servlet>
-        		<servlet-name>mybibsonomy</servlet-name>
-        		<servlet-class>servlets.MyBibSonomyHandler</servlet-class>
-        </servlet>
-        
+		|					JSPs                             |
+		############################################################### -->
+	<!-- AJAX stuff -->
+	<servlet>
+		<servlet-name>/ajax/showOrHideConcept</servlet-name>
+		<jsp-file>/ajax/showOrHideConcept.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>/ajax/pickUnpickPublication</servlet-name>
+		<jsp-file>/ajax/pickUnpickPublication.jsp</jsp-file>
+	</servlet>
+
+	<!-- events -->
+	<servlet>
+		<servlet-name>events_statphys23</servlet-name>
+		<jsp-file>/events/statphys23/index.jsp</jsp-file>
+	</servlet>
+
+	<servlet>
+		<servlet-name>mybibsonomy</servlet-name>
+		<servlet-class>servlets.MyBibSonomyHandler</servlet-class>
+	</servlet>
+
 	<!--  processes  -->
-        <servlet>
-             <servlet-name>processRegister</servlet-name>
-             <jsp-file>/processRegister.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>processPasswordChange</servlet-name>
-             <jsp-file>/processPasswordChange.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>processLogin</servlet-name>
-             <jsp-file>/processLogin.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>processBookmark</servlet-name>
-             <jsp-file>/processBookmark.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>processBibtex</servlet-name>
-             <jsp-file>/processBibtex.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>processUpdateBibtex</servlet-name>
-             <jsp-file>/processUpdateBibtex.jsp</jsp-file>
-        </servlet> 
-        <servlet>
-             <servlet-name>processUploadBibtex</servlet-name>
-             <jsp-file>/processUploadBibtex.jsp</jsp-file>
-        </servlet>
+	<servlet>
+		<servlet-name>processRegister</servlet-name>
+		<jsp-file>/processRegister.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>processPasswordChange</servlet-name>
+		<jsp-file>/processPasswordChange.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>processLogin</servlet-name>
+		<jsp-file>/processLogin.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>processBookmark</servlet-name>
+		<jsp-file>/processBookmark.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>processBibtex</servlet-name>
+		<jsp-file>/processBibtex.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>processUpdateBibtex</servlet-name>
+		<jsp-file>/processUpdateBibtex.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>processUploadBibtex</servlet-name>
+		<jsp-file>/processUploadBibtex.jsp</jsp-file>
+	</servlet>
 	<!--  pages, the user sees  -->
-		<!--  administrative pages -->
-		<servlet>
-             <servlet-name>scraperinfo</servlet-name>
-             <jsp-file>/scraperinfo.jsp</jsp-file>
-        </servlet>
-		<servlet>
-             <servlet-name>scraperinfo_highwire</servlet-name>
-             <jsp-file>/scraperinfo_highwire.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>uploadinfo</servlet-name>
-             <jsp-file>/uploadinfo.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>login</servlet-name>
-             <jsp-file>/login.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>logout</servlet-name>
-             <jsp-file>/logout.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>settings</servlet-name>
-             <jsp-file>/settings.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>register</servlet-name>
-             <jsp-file>/register.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>join_group</servlet-name>
-             <jsp-file>/joingroup.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>reminder</servlet-name>
-             <jsp-file>/reminder.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>change_password</servlet-name>
-             <jsp-file>/changePassword.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>registration_successful</servlet-name>
-             <jsp-file>/successRegister.jsp</jsp-file>
-        </servlet>
-
-		<!--  informative pages -->
-        <servlet>
-             <servlet-name>success</servlet-name>
-             <jsp-file>/success.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>buttons</servlet-name>
-             <jsp-file>/buttons.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>faq</servlet-name>
-             <jsp-file>/faq.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>tutorial</servlet-name>
-             <jsp-file>/tutorial.jsp</jsp-file>
-        </servlet>
-         <servlet>
-			 <servlet-name>edit_tags</servlet-name>
-             <jsp-file>/edit_tags.jsp</jsp-file> 
-        </servlet>
-       <servlet>
-			 <servlet-name>userRelations</servlet-name>
-             <jsp-file>/userRelations.jsp</jsp-file> 
-        </servlet>
-        <servlet>
-			 <servlet-name>allRelations</servlet-name>
-             <jsp-file>/allRelations.jsp</jsp-file> 
-        </servlet>
-
-
-		<!--  RSS Feeds -->
-        <servlet>
-            <servlet-name>RSSFeed</servlet-name>
-             <jsp-file>/RSSFeed.jsp</jsp-file>
-        </servlet>
-        <servlet>
-            <servlet-name>XMLOutput</servlet-name>
-             <jsp-file>/XMLOutput.jsp</jsp-file>
-        </servlet>
-
-
-        <!--  bookmark -->
-        <servlet>
-             <servlet-name>post_bookmark</servlet-name>
-             <jsp-file>/post_bookmark.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>edit_bookmark</servlet-name>
-             <jsp-file>/edit_bookmark.jsp</jsp-file>
-        </servlet>
-
-
-        <!--  bibtex  -->
-        <servlet>
-             <servlet-name>post_bibtex</servlet-name>
-             <jsp-file>/post_bibtex.jsp</jsp-file>
-        </servlet>
-        <servlet>
-             <servlet-name>edit_bibtex</servlet-name>
-             <jsp-file>/edit_bibtex.jsp</jsp-file>
-        </servlet>
-
-        <servlet>
-             <servlet-name>upload_error</servlet-name>
-             <jsp-file>/errors/upload_error.jsp</jsp-file>
-        </servlet>
-        
-        <!--  geotagging -->
-        <servlet>
-        	<servlet-name>geotagging_entry</servlet-name>
-        	<jsp-file>/geotagging_entry.jsp</jsp-file>
-        </servlet>
-        
-        <servlet>
-        	<servlet-name>advanced_search</servlet-name>
-        	<jsp-file>/search_advance.jsp</jsp-file>
-        </servlet>
+	<!--  administrative pages -->
+	<servlet>
+		<servlet-name>scraperinfo</servlet-name>
+		<jsp-file>/scraperinfo.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>scraperinfo_highwire</servlet-name>
+		<jsp-file>/scraperinfo_highwire.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>uploadinfo</servlet-name>
+		<jsp-file>/uploadinfo.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>login</servlet-name>
+		<jsp-file>/login.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>logout</servlet-name>
+		<jsp-file>/logout.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>settings</servlet-name>
+		<jsp-file>/settings.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>register</servlet-name>
+		<jsp-file>/register.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>join_group</servlet-name>
+		<jsp-file>/joingroup.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>reminder</servlet-name>
+		<jsp-file>/reminder.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>change_password</servlet-name>
+		<jsp-file>/changePassword.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>registration_successful</servlet-name>
+		<jsp-file>/successRegister.jsp</jsp-file>
+	</servlet>
+
+	<!--  informative pages -->
+	<servlet>
+		<servlet-name>success</servlet-name>
+		<jsp-file>/success.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>buttons</servlet-name>
+		<jsp-file>/buttons.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>faq</servlet-name>
+		<jsp-file>/faq.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>tutorial</servlet-name>
+		<jsp-file>/tutorial.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>edit_tags</servlet-name>
+		<jsp-file>/edit_tags.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>userRelations</servlet-name>
+		<jsp-file>/userRelations.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>allRelations</servlet-name>
+		<jsp-file>/allRelations.jsp</jsp-file>
+	</servlet>
 
 
+	<!--  RSS Feeds -->
+	<servlet>
+		<servlet-name>RSSFeed</servlet-name>
+		<jsp-file>/RSSFeed.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>XMLOutput</servlet-name>
+		<jsp-file>/XMLOutput.jsp</jsp-file>
+	</servlet>
+
+
+	<!--  bookmark -->
+	<servlet>
+		<servlet-name>post_bookmark</servlet-name>
+		<jsp-file>/post_bookmark.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>edit_bookmark</servlet-name>
+		<jsp-file>/edit_bookmark.jsp</jsp-file>
+	</servlet>
+
+
+	<!--  bibtex  -->
+	<servlet>
+		<servlet-name>post_bibtex</servlet-name>
+		<jsp-file>/post_bibtex.jsp</jsp-file>
+	</servlet>
+	<servlet>
+		<servlet-name>edit_bibtex</servlet-name>
+		<jsp-file>/edit_bibtex.jsp</jsp-file>
+	</servlet>
+
+	<servlet>
+		<servlet-name>upload_error</servlet-name>
+		<jsp-file>/errors/upload_error.jsp</jsp-file>
+	</servlet>
+
+	<!--  geotagging -->
+	<servlet>
+		<servlet-name>geotagging_entry</servlet-name>
+		<jsp-file>/geotagging_entry.jsp</jsp-file>
+	</servlet>
+
+	<servlet>
+		<servlet-name>advanced_search</servlet-name>
+		<jsp-file>/search_advance.jsp</jsp-file>
+	</servlet>
+
+	<servlet>
+		<servlet-name>bibsonomy2</servlet-name>
+		<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
+		<load-on-startup>1</load-on-startup>
+	</servlet>
+	
+	
+	<servlet-mapping>
+		<servlet-name>bibsonomy2</servlet-name>
+		<url-pattern>/</url-pattern>
+	</servlet-mapping>
+
+	<servlet-mapping>
+		<servlet-name>default</servlet-name>
+		<url-pattern>/crfBibsonomy</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>default</servlet-name>
+		<url-pattern>*.js</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>default</servlet-name>
+		<url-pattern>/jabrefExportFilter</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>default</servlet-name>
+		<url-pattern>/perl</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>default</servlet-name>
+		<url-pattern>/resources</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+        <servlet-name>default</servlet-name>
+        <url-pattern>*.css</url-pattern>
+    </servlet-mapping>
+    <servlet-mapping>
+        <servlet-name>default</servlet-name>
+        <url-pattern>*.png</url-pattern>
+    </servlet-mapping>
+
 
 	<!-- ###############################################################  
-		 |		Servlet-Mappings                             |
-		 ############################################################### -->
-    <!-- AJAX stuff -->
-     <servlet-mapping>
-     	<servlet-name>/ajax/showOrHideConcept</servlet-name>
-     	<url-pattern>/ajax/showOrHideConcept</url-pattern>
-     </servlet-mapping>	
-     <servlet-mapping>
-     	<servlet-name>/ajax/pickUnpickPublication</servlet-name>
-     	<url-pattern>/ajax/pickUnpickPublication</url-pattern>
-     </servlet-mapping>	
+		|		Servlet-Mappings                             |
+		############################################################### -->
+	<!-- AJAX stuff -->
+	<servlet-mapping>
+		<servlet-name>/ajax/showOrHideConcept</servlet-name>
+		<url-pattern>/ajax/showOrHideConcept</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>/ajax/pickUnpickPublication</servlet-name>
+		<url-pattern>/ajax/pickUnpickPublication</url-pattern>
+	</servlet-mapping>
 	<!--  very general: get Resources from database -->
-     <servlet-mapping>
-     	<servlet-name>ResourceHandler</servlet-name>
-     	<url-pattern>/ResourceHandler</url-pattern>
-     </servlet-mapping>
-     <servlet-mapping>
-     	<servlet-name>LayoutHandler</servlet-name>
-     	<url-pattern>/LayoutHandler</url-pattern>
-     </servlet-mapping>
-     <servlet-mapping>
-     	<servlet-name>RelationsHandler</servlet-name>
-     	<url-pattern>/RelationsHandler</url-pattern>
-     </servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>ResourceHandler</servlet-name>
+		<url-pattern>/ResourceHandler</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>LayoutHandler</servlet-name>
+		<url-pattern>/LayoutHandler</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>RelationsHandler</servlet-name>
+		<url-pattern>/RelationsHandler</url-pattern>
+	</servlet-mapping>
 
 	<servlet-mapping>
 		<servlet-name>mybibsonomy</servlet-name>
 		<url-pattern>/myBibSonomy</url-pattern>
 	</servlet-mapping>
 
-     <!-- events -->
-     <servlet-mapping>
-     	<servlet-name>events_statphys23</servlet-name>
-     	<url-pattern>/events/statphys23</url-pattern>
-     </servlet-mapping>
+	<!-- events -->
+	<servlet-mapping>
+		<servlet-name>events_statphys23</servlet-name>
+		<url-pattern>/events/statphys23</url-pattern>
+	</servlet-mapping>
 
 
 
-	 <!--  save tags in database -->
-	 <servlet-mapping>
-     	<servlet-name>TagHandler</servlet-name>
-     	<url-pattern>/TagHandler</url-pattern>
-     </servlet-mapping>
-
-   <servlet-mapping>
-     	<servlet-name>TagEditHandler</servlet-name>
-     	<url-pattern>/TagEditHandler</url-pattern>
-     </servlet-mapping>
-      
+	<!--  save tags in database -->
+	<servlet-mapping>
+		<servlet-name>TagHandler</servlet-name>
+		<url-pattern>/TagHandler</url-pattern>
+	</servlet-mapping>
 
-	<!--  processes -->    
-    <servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>TagEditHandler</servlet-name>
+		<url-pattern>/TagEditHandler</url-pattern>
+	</servlet-mapping>
+
+
+	<!--  processes -->
+	<servlet-mapping>
 		<servlet-name>processRegister</servlet-name>
 		<url-pattern>/registration_process</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>processPasswordChange</servlet-name>
 		<url-pattern>/passwordchange_process</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>processLogin</servlet-name>
 		<url-pattern>/login_process</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>processBookmark</servlet-name>
 		<url-pattern>/bookmark_posting_process</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>processBibtex</servlet-name>
 		<url-pattern>/bibtex_posting_process</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>processUpdateBibtex</servlet-name>
 		<url-pattern>/bibtex_update_process</url-pattern>
-    </servlet-mapping>
-	 <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>processUploadBibtex</servlet-name>
-		<url-pattern>/bibtex_upload_process</url-pattern> 
-	 </servlet-mapping>
+		<url-pattern>/bibtex_upload_process</url-pattern>
+	</servlet-mapping>
 
 	<!--  Bookmark stuff -->
-    <servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>BookmarkShowHandler</servlet-name>
 		<url-pattern>/ShowBookmarkEntry</url-pattern>
-    </servlet-mapping>
+	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>BookmarkHandler</servlet-name>
 		<url-pattern>/bookmarkHandler</url-pattern>
 	</servlet-mapping>
-    <servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>edit_bookmark</servlet-name>
 		<url-pattern>/edit_bookmark</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>post_bookmark</servlet-name>
 		<url-pattern>/post_bookmark</url-pattern>
-    </servlet-mapping>
-    
-    <!-- captcha mapping -->
-    <servlet-mapping>
+	</servlet-mapping>
+
+	<!-- captcha mapping -->
+	<servlet-mapping>
 		<servlet-name>Captcha</servlet-name>
- 		<url-pattern>/Captcha.jpg</url-pattern>
+		<url-pattern>/Captcha.jpg</url-pattern>
 	</servlet-mapping>
-    
-   	<!--  BibTeX stuff -->
-     <servlet-mapping>
+
+	<!--  BibTeX stuff -->
+	<servlet-mapping>
 		<servlet-name>BibtexHandler</servlet-name>
-		<url-pattern>/BibtexHandler</url-pattern> 
-	 </servlet-mapping>
-    <servlet-mapping>
+		<url-pattern>/BibtexHandler</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>BibtexShowHandler</servlet-name>
 		<url-pattern>/ShowBibtexEntry</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>post_bibtex</servlet-name>
 		<url-pattern>/post_bibtex</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>edit_bibtex</servlet-name>
 		<url-pattern>/edit_bibtex</url-pattern>
-    </servlet-mapping>
-    <servlet-mapping>
-     	<servlet-name>DocumentDownloadHandler</servlet-name>
-     	<url-pattern>/DocumentDownloadHandler</url-pattern>
-     </servlet-mapping>
-    <servlet-mapping>
-     	<servlet-name>DocumentUploadHandler</servlet-name>
-     	<url-pattern>/DocumentUploadHandler</url-pattern>
-     </servlet-mapping>
-    <servlet-mapping>
-     	<servlet-name>ExtendedFieldsHandler</servlet-name>
-     	<url-pattern>/ExtendedFieldsHandler</url-pattern>
-     </servlet-mapping>
-    
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>DocumentDownloadHandler</servlet-name>
+		<url-pattern>/DocumentDownloadHandler</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>DocumentUploadHandler</servlet-name>
+		<url-pattern>/DocumentUploadHandler</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>ExtendedFieldsHandler</servlet-name>
+		<url-pattern>/ExtendedFieldsHandler</url-pattern>
+	</servlet-mapping>
 
-    <servlet-mapping>
+
+	<servlet-mapping>
 		<servlet-name>upload_error</servlet-name>
-		<url-pattern>/upload_error</url-pattern> 
-	 </servlet-mapping>
-	 <servlet-mapping>
+		<url-pattern>/upload_error</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>scraperinfo</servlet-name>
 		<url-pattern>/scraperinfo</url-pattern>
-    </servlet-mapping>
- 	<servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>scraperinfo_highwire</servlet-name>
 		<url-pattern>/scraperinfo_highwire</url-pattern>
-    </servlet-mapping>             
-    <servlet-mapping>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>uploadinfo</servlet-name>
 		<url-pattern>/uploadinfo</url-pattern>
-    </servlet-mapping>
+	</servlet-mapping>
 
 	<!--  Handlers  -->
 	<servlet-mapping>
@@ -689,7 +793,7 @@
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>SettingsHandler</servlet-name>
-		<url-pattern>/SettingsHandler</url-pattern> 
+		<url-pattern>/SettingsHandler</url-pattern>
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>RegistrationHandler</servlet-name>
@@ -699,125 +803,158 @@
 		<servlet-name>LoginHandler</servlet-name>
 		<url-pattern>/LoginHandler</url-pattern>
 	</servlet-mapping>
-        <servlet-mapping>
-             <servlet-name>JoinGroupHandler</servlet-name>
-             <url-pattern>/JoinGroupHandler</url-pattern>
-        </servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>JoinGroupHandler</servlet-name>
+		<url-pattern>/JoinGroupHandler</url-pattern>
+	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>Collector</servlet-name>
 		<url-pattern>/Collector</url-pattern>
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>RedirectHandler</servlet-name>
-		<url-pattern>/RedirectHandler</url-pattern> 
+		<url-pattern>/RedirectHandler</url-pattern>
 	</servlet-mapping>
 
 	<servlet-mapping>
-     	<servlet-name>PictureUploadHandler</servlet-name>
-     	<url-pattern>/PictureUploadHandler</url-pattern>
-     </servlet-mapping>
-     <servlet-mapping>
-     	<servlet-name>PictureDownloadHandler</servlet-name>
-     	<url-pattern>/PictureDownloadHandler</url-pattern>
-    </servlet-mapping>
-     
+		<servlet-name>PictureUploadHandler</servlet-name>
+		<url-pattern>/PictureUploadHandler</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>PictureDownloadHandler</servlet-name>
+		<url-pattern>/PictureDownloadHandler</url-pattern>
+	</servlet-mapping>
+
 	<!-- RSS Feeds -->
-     <servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>RSSFeed</servlet-name>
-		<url-pattern>/RSSFeed</url-pattern> 
+		<url-pattern>/RSSFeed</url-pattern>
 	</servlet-mapping>
-     <servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>XMLOutput</servlet-name>
-		<url-pattern>/XMLOutput</url-pattern> 
+		<url-pattern>/XMLOutput</url-pattern>
 	</servlet-mapping>
 
 
 	<!--  general pages  -->
-     <servlet-mapping>
-     	<servlet-name>edit_tags</servlet-name>
-		<url-pattern>/edit_tags</url-pattern> 
-	 </servlet-mapping>
-	 <servlet-mapping>
-     	<servlet-name>userRelations</servlet-name>
-		<url-pattern>/userRelations</url-pattern> 
-	 </servlet-mapping>
-       <servlet-mapping>
-     	<servlet-name>allRelations</servlet-name>
-		<url-pattern>/allRelations</url-pattern> 
-	 </servlet-mapping>
-    <servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>edit_tags</servlet-name>
+		<url-pattern>/edit_tags</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>userRelations</servlet-name>
+		<url-pattern>/userRelations</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>allRelations</servlet-name>
+		<url-pattern>/allRelations</url-pattern>
+	</servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>login</servlet-name>
-		<url-pattern>/login</url-pattern> 
+		<url-pattern>/login</url-pattern>
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>logout</servlet-name>
-		<url-pattern>/logout</url-pattern> 
+		<url-pattern>/logout</url-pattern>
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>reminder</servlet-name>
-		<url-pattern>/reminder</url-pattern> 
+		<url-pattern>/reminder</url-pattern>
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>change_password</servlet-name>
-		<url-pattern>/change_password</url-pattern> 
+		<url-pattern>/change_password</url-pattern>
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>settings</servlet-name>
-		<url-pattern>/settings</url-pattern> 
+		<url-pattern>/settings</url-pattern>
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>register</servlet-name>
-		<url-pattern>/register</url-pattern> 
+		<url-pattern>/register</url-pattern>
 	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>success</servlet-name>
-		<url-pattern>/success</url-pattern> 
-	</servlet-mapping> 
+		<url-pattern>/success</url-pattern>
+	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>buttons</servlet-name>
-		<url-pattern>/buttons</url-pattern> 
-	</servlet-mapping> 
+		<url-pattern>/buttons</url-pattern>
+	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>faq</servlet-name>
-		<url-pattern>/faq</url-pattern> 
-	</servlet-mapping> 
+		<url-pattern>/faq</url-pattern>
+	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>tutorial</servlet-name>
-		<url-pattern>/tutorial</url-pattern> 
-	</servlet-mapping> 
+		<url-pattern>/tutorial</url-pattern>
+	</servlet-mapping>
 	<servlet-mapping>
 		<servlet-name>join_group</servlet-name>
-		<url-pattern>/join_group</url-pattern> 
+		<url-pattern>/join_group</url-pattern>
 	</servlet-mapping>
 
-    <servlet-mapping>
+	<servlet-mapping>
 		<servlet-name>registration_successful</servlet-name>
 		<url-pattern>/registration_successful</url-pattern>
-    </servlet-mapping>
-    
-    <servlet-mapping>
-    	<servlet-name>geotagging_entry</servlet-name>
-    	<url-pattern>/geotagging_entry</url-pattern>
-    </servlet-mapping>
-    
-    <servlet-mapping>
-    	<servlet-name>advanced_search</servlet-name>
-    	<url-pattern>/advanced_search</url-pattern>
-    </servlet-mapping>
+	</servlet-mapping>
 
-    <!--
-      * disallow access to /documentation folder 
-      * added by rja, 2007-04-02
-      * probably other folders are readable, as well
-    -->
-    <servlet-mapping>
-    	<servlet-name>faq</servlet-name>
-    	<url-pattern>/documentation/*</url-pattern>
-    </servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>geotagging_entry</servlet-name>
+		<url-pattern>/geotagging_entry</url-pattern>
+	</servlet-mapping>
+
+	<servlet-mapping>
+		<servlet-name>advanced_search</servlet-name>
+		<url-pattern>/advanced_search</url-pattern>
+	</servlet-mapping>
+
+	<!--
+		* disallow access to /documentation folder 
+		* added by rja, 2007-04-02
+		* probably other folders are readable, as well
+	-->
+	<servlet-mapping>
+		<servlet-name>faq</servlet-name>
+		<url-pattern>/documentation/*</url-pattern>
+	</servlet-mapping>
 
 	<!--  WebDAV  -->
-    <servlet-mapping>
-        <servlet-name>webdav</servlet-name>
-        <url-pattern>/webdav/*</url-pattern>
-    </servlet-mapping>
+	<servlet-mapping>
+		<servlet-name>webdav</servlet-name>
+		<url-pattern>/webdav/*</url-pattern>
+	</servlet-mapping>
+
+
+
+
+	<!--filter>
+		<filter-name>SetCharacterEncodingFilter</filter-name>
+		<filter-class>
+		org.bibsonomy.web.filters.SetCharacterEncodingFilter
+		</filter-class>
+		<init-param>
+		<param-name>encoding</param-name>
+		<param-value>UTF-8</param-value>
+		</init-param>
+		<init-param>
+		<param-name>ignore</param-name>
+		<param-value>false</param-value>
+		</init-param>
+		</filter-->
+	<!-- filter-mapping>
+		<filter-name>SetCharacterEncodingFilter</filter-name>
+		<url-pattern>/*</url-pattern>
+		</filter-mapping-->
+
+	<!-- REST API -->
+	<servlet>
+		<servlet-name>ApiServlet</servlet-name>
+		<servlet-class>org.bibsonomy.rest.RestServlet</servlet-class>
+	</servlet>
+
+	<servlet-mapping>
+		<servlet-name>ApiServlet</servlet-name>
+		<url-pattern>/api/*</url-pattern>
+	</servlet-mapping>
 </web-app>
\ Kein Zeilenumbruch am Dateiende.
diff -ur bibsonomy-webapp/src/test/java/helpers/database/DBExtendedFieldManagerTest.java bibsonomy-webapp-new/src/test/java/helpers/database/DBExtendedFieldManagerTest.java
--- bibsonomy-webapp/src/test/java/helpers/database/DBExtendedFieldManagerTest.java	2006-10-11 11:51:57.000000000 +0200
+++ bibsonomy-webapp-new/src/test/java/helpers/database/DBExtendedFieldManagerTest.java	2007-08-15 17:33:44.000000000 +0200
@@ -1,19 +1,57 @@
 package helpers.database;
 
+import java.io.IOException;
 import java.util.HashSet;
+import java.util.Properties;
+
+import javax.naming.InitialContext;
+import javax.sql.DataSource;
+
+import junit.framework.Assert;
+
+import org.apache.log4j.Logger;
+import org.junit.BeforeClass;
+import org.junit.Test;
+import org.mockejb.jndi.MockContextFactory;
+
 import resources.ExtendedFieldMap;
 
-import org.testng.annotations.Test;
+import com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource;
 
 public class DBExtendedFieldManagerTest {
-
+	private static final Logger log = Logger.getLogger(DBExtendedFieldManagerTest.class);
 	
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@BeforeClass
+	public static void setup() {
+		final InitialContext ctx;
+		final DataSource ds = getDataSource();
+		try {
+			MockContextFactory.setAsInitial();
+			ctx = new InitialContext();
+			ctx.bind("java:/comp/env/jdbc/bibsonomy", ds);
+		} catch (Exception e) {
+			throw new RuntimeException(e);
+		}
+	}
+
+	private static DataSource getDataSource() {
+		final Properties props = new Properties();
+		try {
+			log.debug(DBExtendedFieldManagerTest.class.getClassLoader().getResource("database.properties").toString()); // FIXME: maven2 surefire plugin has massive classloader problems
+			log.debug(DBExtendedFieldManagerTest.class.getClassLoader().getResource("log4j.properties").toString());
+			props.load(DBExtendedFieldManagerTest.class.getClassLoader().getResourceAsStream("database.properties"));
+		} catch (IOException ex) {
+			throw new RuntimeException(ex);
+		}
+		final MysqlConnectionPoolDataSource dataSource = new MysqlConnectionPoolDataSource();
+		dataSource.setUrl(props.getProperty("url"));
+		dataSource.setUser(props.getProperty("username"));
+		dataSource.setPassword(props.getProperty("password"));
+		return dataSource;
+	}
+
+	@Test
 	public void isEmpty() {
-		
-		
-		
-		
 		DBExtendedFieldManager eman = new DBExtendedFieldManager();
 		
 		//BasicConfigurator.configure();
@@ -32,11 +70,6 @@
 		map.setOrder(2);
 		list.add(map);
 		
-		
-		assert (eman.createExtendedFieldsMap("nepomuk", list));
-	
-		
-	
+		Assert.assertTrue( eman.createExtendedFieldsMap("nepomuk", list) );
 	}
-
 }
diff -ur bibsonomy-webapp/src/test/java/resources/ResourceTest.java bibsonomy-webapp-new/src/test/java/resources/ResourceTest.java
--- bibsonomy-webapp/src/test/java/resources/ResourceTest.java	2006-08-03 16:37:31.000000000 +0200
+++ bibsonomy-webapp-new/src/test/java/resources/ResourceTest.java	2007-08-15 15:59:08.000000000 +0200
@@ -1,10 +1,10 @@
 package resources;
 
-import org.testng.annotations.Test;
+import org.junit.Test;
 
 public class ResourceTest {
 
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void testClone() {
 		Resource r = new Bookmark();
 		
diff -ur bibsonomy-webapp/src/test/java/resources/SplittedTagsTest.java bibsonomy-webapp-new/src/test/java/resources/SplittedTagsTest.java
--- bibsonomy-webapp/src/test/java/resources/SplittedTagsTest.java	2006-08-03 11:42:20.000000000 +0200
+++ bibsonomy-webapp-new/src/test/java/resources/SplittedTagsTest.java	2007-08-15 15:59:31.000000000 +0200
@@ -2,11 +2,11 @@
 
 import java.util.LinkedList;
 
-import org.testng.annotations.Test;
+import org.junit.Test;
 
 public class SplittedTagsTest {
 
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void testStringInput() {
 		SplittedTags t = new SplittedTags("a b c", "", true);
 
diff -ur bibsonomy-webapp/src/test/java/resources/TagTest.java bibsonomy-webapp-new/src/test/java/resources/TagTest.java
--- bibsonomy-webapp/src/test/java/resources/TagTest.java	2006-09-14 14:43:06.000000000 +0200
+++ bibsonomy-webapp-new/src/test/java/resources/TagTest.java	2007-08-15 16:00:39.000000000 +0200
@@ -4,11 +4,11 @@
 import java.util.Set;
 import java.util.TreeSet;
 
-import org.testng.annotations.Test;
+import org.junit.Test;
 
 public class TagTest {
 
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void isEmpty() {
 		Tag t = new Tag();
 		assert t.getTagrelations().isEmpty();
@@ -20,7 +20,7 @@
 	/*
 	 * tests, if adding two tags works
 	 */
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void addTagWorks() {
 
 		TreeSet<String> testSet = new TreeSet<String>();
@@ -41,7 +41,7 @@
 	/*
 	 * testing simple tag string parsing
 	 */
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void setTag1Works() {
 		TreeSet<String> testSet = new TreeSet<String>();
 		testSet.add("foo");
@@ -59,7 +59,7 @@
 	/*
 	 * testing difficult tag string parsing
 	 */
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void setTag4Works() {
 
 		// generate tag object and give it the string to parse
@@ -98,7 +98,7 @@
 	/*
 	 * testing tagging of tags
 	 */
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void setTag3Works() {
 		Tag t = new Tag();
 		t.setTags("for:klaus foo");
@@ -128,7 +128,7 @@
 	/*
 	 * test cloning of tag object
 	 */
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void cloneWorks() {
 		Tag t = new Tag();
 		t.setTags("for:klaus foo");
@@ -157,7 +157,7 @@
 	/*
 	 * testing adding of relations
 	 */
-	@Test(groups = { "resources", "checkintest", "functest" })
+	@Test
 	public void addTagRelWorks() {
 		Tag t = new Tag();
 		t.addTagRelation("foo", "bar");
@@ -180,7 +180,7 @@
 	/*
 	 * Christophs Example of a broken parsing
 	 */
-	@Test(groups = {"resources", "checkintest", "functest"})
+	@Test
 	public void setTag2Works (){
 		Tag t = new Tag();
 		t.setTags("graphtheory evolution graph graphgenerator network researcher<-dorogovtsev");
