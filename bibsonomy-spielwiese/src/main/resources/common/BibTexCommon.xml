<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="BibTexCommon">
	<resultMap id="bibtexs" class="bibtex" groupBy="contentId">
		<result property="contentId"      column="content_id"     javaType="int" />
		<result property="tags"           resultMap="BookmarkCommon.tags" />
		<result property="title"          column="title"          javaType="string" />
		<result property="address"        column="address"        javaType="string" />
		<result property="annote"         column="annote"         javaType="string" />
		<result property="booktitle"      column="booktitle"      javaType="string" />
		<result property="chapter"        column="chapter"        javaType="string" />
		<result property="crossref"       column="crossref"       javaType="string" />
		<result property="edition"        column="edition"        javaType="string" />
		<result property="howpublished"   column="howpublished"   javaType="string" />
		<result property="institution"    column="institution"    javaType="string" />
		<result property="journal"        column="journal"        javaType="string" />
		<result property="bkey"           column="bkey"           javaType="string" />
		<result property="month"          column="month"          javaType="string" />
		<result property="note"           column="note"           javaType="string" />
		<result property="number"         column="number"         javaType="string" />
		<result property="organization"   column="organization"   javaType="string" />
		<result property="pages"          column="pages"          javaType="string" />
		<result property="publisher"      column="publisher"      javaType="string" />
		<result property="school"         column="school"         javaType="string" />
		<result property="series"         column="series"         javaType="string" />
		<result property="type"           column="type"           javaType="string" />
		<result property="volume"         column="volume"         javaType="string" />
		<result property="day"            column="day"            javaType="string" />
		<result property="url"            column="url"            javaType="string" />
		<result property="description"    column="description"    javaType="string" />
		<result property="bibtexKey"      column="bibtexKey"      javaType="string" />
		<result property="misc"           column="misc"           javaType="string" />
		<result property="bibtexAbstract" column="bibtexAbstract" javaType="string" />
		<result property="userName"       column="user_name"      javaType="string" />
		<result property="date"           column="date"           javaType="date" />
		<result property="title"          column="title"          javaType="string" />
		<result property="author"         column="author"         javaType="string" />
		<result property="editor"         column="editor"         javaType="string" />
		<result property="year"           column="year"           javaType="string" />
		<result property="entrytype"      column="entrytype"      javaType="string" />
		<result property="ctr"            column="ctr"            javaType="int" />
	</resultMap>

	<sql id="bibtexAttributes">
		b.address,b.annote,b.booktitle,b.chapter,b.crossref,b.edition,b.howpublished,
		b.institution,b.journal,b.bkey,b.month,b.note,b.number,b.organization,b.pages,b.publisher,
		b.school,b.series,b.type,b.volume,b.day,b.url,b.content_id,b.description,b.bibtexKey,b.misc,
		b.bibtexAbstract,b.user_name,b.date,b.title,b.author,b.editor,b.year,b.entrytype
	</sql>

	<sql id="bibtexAttributes2">
		bibtex.address,bibtex.annote,bibtex.booktitle,bibtex.chapter,bibtex.crossref,bibtex.edition,bibtex.howpublished,
		bibtex.institution,bibtex.journal,bibtex.bkey,bibtex.month,bibtex.note,bibtex.number,bibtex.organization,bibtex.pages,bibtex.publisher,
		bibtex.school,bibtex.series,bibtex.type,bibtex.volume,bibtex.day,bibtex.url,bibtex.content_id,bibtex.description,bibtex.bibtexKey,bibtex.misc,bibtex.bibtexAbstract,bibtex.user_name,bibtex.date,bibtex.title,bibtex.author,
		bibtex.editor,bibtex.year,bibtex.entrytype
	</sql>

	<!-- b.simhash$simHash$ = h.hash AND h.type = $simHash$ -->
	<sql id="bibtexSimHash">
		b.simhash1 = h.hash AND h.type = 1
	</sql>
</sqlMap>